[{"path":"https://docs.ropensci.org/tidypmc/CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (http://contributor-covenant.org), version 1.0.0, available http://contributor-covenant.org/version/1/0/0/","code":""},{"path":"https://docs.ropensci.org/tidypmc/articles/tidypmc.html","id":"searching-text","dir":"Articles","previous_headings":"","what":"Searching text","title":"Introduction to tidypmc","text":"functions search within pmc_text collapsed pmc_table output. separate_text uses stringr package extract matching regular expression. wrappers search pre-defined patterns add extra step expand matched ranges. separate_refs matches references within brackets using \\\\[[0-9, -]+\\\\] expands ranges like [7-9]. separate_genes expands microbial gene operons like hmsHFRS four separate genes. Finally, separate_tags expands locus tag ranges.","code":"separate_text(txt, \"[ATCGN]{5,}\") #  # A tibble: 9 × 5 #    match                 section                                             paragraph sentence text  #    <chr>                 <chr>                                                   <int>    <int> <chr> #  1 ACGCAATCGTTTTCNT      Results and Discussion; Computational discovery of…         2        3 A 16… #  2 AAACGTTTNCGT          Results and Discussion; Computational discovery of…         2        4 It i… #  3 TGATAATGATTATCATTATCA Results and Discussion; Computational discovery of…         2        5 A 21… #  4 GATAATGATAATCATTATC   Results and Discussion; Computational discovery of…         2        6 It i… #  5 TGANNNNNNTCAA         Results and Discussion; Computational discovery of…         2        7 A 15… #  6 TTGATN                Results and Discussion; Computational discovery of…         2        8 It i… #  7 NATCAA                Results and Discussion; Computational discovery of…         2        8 It i… #  8 GTTAATTAA             Results and Discussion; Computational discovery of…         3        4 The … #  9 GTTAATTAATGT          Results and Discussion; Computational discovery of…         3        5 An A… x <- separate_refs(txt) x #  # A tibble: 93 × 6 #        id match section    paragraph sentence text                                                    #     <dbl> <chr> <chr>          <int>    <int> <chr>                                                   #   1     1 [1]   Background         1        1 Yersinia pestis is the etiological agent of plague, al… #   2     2 [2]   Background         1        3 To produce a transmissible infection, Y. pestis coloni… #   3     3 [3]   Background         1        9 However, a few bacilli are taken up by tissue macropha… #   4     4 [4,5] Background         1       10 Residence in this niche also facilitates the bacteria'… #   5     5 [4,5] Background         1       10 Residence in this niche also facilitates the bacteria'… #   6     6 [6]   Background         2        1 A DNA microarray is able to determine simultaneous cha… #   7     7 [7-9] Background         2        2 We and others have measured the gene expression profil… #   8     8 [7-9] Background         2        2 We and others have measured the gene expression profil… #   9     9 [7-9] Background         2        2 We and others have measured the gene expression profil… #  10    10 [10]  Background         2        2 We and others have measured the gene expression profil… #  # ℹ 83 more rows filter(x, id == 8) #  # A tibble: 5 × 6 #       id match           section                                             paragraph sentence text  #    <dbl> <chr>           <chr>                                                   <int>    <int> <chr> #  1     8 [7-9]           Background                                                  2        2 We a… #  2     8 [8-13,15]       Background                                                  2        4 In o… #  3     8 [7-13,15,19-21] Results and Discussion                                      2        1 Rece… #  4     8 [7-9]           Results and Discussion; Virulence genes in respons…         3        1 As d… #  5     8 [8-10]          Methods; Collection of microarray expression data           1        6 The … separate_genes(txt) #  # A tibble: 103 × 6 #     gene  match   section                                                    paragraph sentence text  #     <chr> <chr>   <chr>                                                          <int>    <int> <chr> #   1 purR  PurR    Abstract                                                           2        5 Seve… #   2 phoP  PhoP    Background                                                         2        3 We a… #   3 ompR  OmpR    Background                                                         2        3 We a… #   4 oxyR  OxyR    Background                                                         2        3 We a… #   5 csrA  CsrA    Results and Discussion                                             1        3 Afte… #   6 slyA  SlyA    Results and Discussion                                             1        3 Afte… #   7 phoPQ PhoPQ   Results and Discussion                                             1        3 Afte… #   8 hmsH  hmsHFRS Results and Discussion; Virulence genes in response to mu…         3        3 For … #   9 hmsF  hmsHFRS Results and Discussion; Virulence genes in response to mu…         3        3 For … #  10 hmsR  hmsHFRS Results and Discussion; Virulence genes in response to mu…         3        3 For … #  # ℹ 93 more rows collapse_rows(tab1, na=\"-\") %>%   separate_tags(\"YPO\") #  # A tibble: 270 × 5 #     id      match        table     row text                                                           #     <chr>   <chr>        <chr>   <int> <chr>                                                          #   1 YPO2439 YPO2439-2442 Table 1     1 subheading=Iron uptake or heme synthesis; Potential operon (r… #   2 YPO2440 YPO2439-2442 Table 1     1 subheading=Iron uptake or heme synthesis; Potential operon (r… #   3 YPO2441 YPO2439-2442 Table 1     1 subheading=Iron uptake or heme synthesis; Potential operon (r… #   4 YPO2442 YPO2439-2442 Table 1     1 subheading=Iron uptake or heme synthesis; Potential operon (r… #   5 YPO0279 YPO0279-0283 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r… #   6 YPO0280 YPO0279-0283 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r… #   7 YPO0281 YPO0279-0283 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r… #   8 YPO0282 YPO0279-0283 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r… #   9 YPO0283 YPO0279-0283 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r… #  10 YPO1529 YPO1529-1532 Table 1     3 subheading=Iron uptake or heme synthesis; Potential operon (r… #  # ℹ 260 more rows"},{"path":"https://docs.ropensci.org/tidypmc/articles/tidypmc.html","id":"using-xml2","dir":"Articles","previous_headings":"Searching text","what":"Using xml2","title":"Introduction to tidypmc","text":"pmc_* functions use xml2 package parsing may fail situations, helps know parse xml_documents. Use cat .character view nodes returned xml_find_all. Many journals use superscripts references cited usually appear words like results9 . Find tags using xml_find_all update nodes adding brackets text. text now separated reference. Note pmc_text function adds brackets default. Genes, species many terms often included within italic tags. can mark nodes using code simply list names italics search text tables matches, example three letter gene names text .","code":"library(xml2) refs <- xml_find_all(doc, \"//ref\") refs[1] #  {xml_nodeset (1)} #  [1] <ref id=\"B1\">\\n  <citation citation-type=\"journal\">\\n    <person-group person-group-type=\"aut ... cat(as.character(refs[1])) #  <ref id=\"B1\"> #    <citation citation-type=\"journal\"> #      <person-group person-group-type=\"author\"> #        <name> #          <surname>Perry<\/surname> #          <given-names>RD<\/given-names> #        <\/name> #        <name> #          <surname>Fetherston<\/surname> #          <given-names>JD<\/given-names> #        <\/name> #      <\/person-group> #      <article-title>Yersinia pestis--etiologic agent of plague<\/article-title> #      <source>Clin Microbiol Rev<\/source> #      <year>1997<\/year> #      <volume>10<\/volume> #      <fpage>35<\/fpage> #      <lpage>66<\/lpage> #      <pub-id pub-id-type=\"pmid\">8993858<\/pub-id> #    <\/citation> #  <\/ref> # doc1 <- pmc_xml(\"PMC6385181\") doc1 <- read_xml(system.file(\"extdata/PMC6385181.xml\", package = \"tidypmc\")) gsub(\".*\\\\. \", \"\", xml_text( xml_find_all(doc1, \"//sec/p\"))[2]) #  [1] \"RNA-seq identifies the most relevant genes and RT-qPCR validates its results9, especially in the field of environmental and host adaptation10,11 and antimicrobial response12.\" bib <- xml_find_all(doc1, \"//xref[@ref-type='bibr']\") bib[1] #  {xml_nodeset (1)} #  [1] <xref ref-type=\"bibr\" rid=\"CR1\">1<\/xref> xml_text(bib) <- paste0(\" [\", xml_text(bib), \"]\") bib[1] #  {xml_nodeset (1)} #  [1] <xref ref-type=\"bibr\" rid=\"CR1\"> [1]<\/xref> gsub(\".*\\\\. \", \"\", xml_text( xml_find_all(doc1, \"//sec/p\"))[2]) #  [1] \"RNA-seq identifies the most relevant genes and RT-qPCR validates its results [9], especially in the field of environmental and host adaptation [10], [11] and antimicrobial response [12].\" library(tibble) x <- xml_name(xml_find_all(doc, \"//*\")) tibble(tag=x) %>%   count(tag, sort=TRUE) #  # A tibble: 84 × 2 #     tag               n #     <chr>         <int> #   1 td              398 #   2 given-names     388 #   3 name            388 #   4 surname         388 #   5 italic          235 #   6 pub-id          129 #   7 tr              117 #   8 xref            108 #   9 year             80 #  10 article-title    77 #  # ℹ 74 more rows it <- xml_text(xml_find_all(doc, \"//sec//p//italic\"), trim=TRUE) it2 <- tibble(italic=it) %>%   count(italic, sort=TRUE) it2 #  # A tibble: 53 × 2 #     italic              n #     <chr>           <int> #   1 Y. pestis          46 #   2 in vitro            5 #   3 E. coli             4 #   4 psaEFABC            3 #   5 r                   3 #   6 Yersinia            2 #   7 Yersinia pestis     2 #   8 cis                 2 #   9 fur                 2 #  10 n                   2 #  # ℹ 43 more rows filter(it2, nchar(italic) == 3) #  # A tibble: 8 × 2 #    italic     n #    <chr>  <int> #  1 cis        2 #  2 fur        2 #  3 cys        1 #  4 hmu        1 #  5 ybt        1 #  6 yfe        1 #  7 yfu        1 #  8 ymt        1 separate_text(txt, c(\"fur\", \"cys\", \"hmu\", \"ybt\", \"yfe\", \"yfu\", \"ymt\")) #  # A tibble: 9 × 5 #    match section                                                             paragraph sentence text  #    <chr> <chr>                                                                   <int>    <int> <chr> #  1 ymt   Results and Discussion; Virulence genes in response to multiple en…         3        4 The … #  2 fur   Results and Discussion; Clustering analysis and functional classif…         3        2 It i… #  3 yfe   Results and Discussion; Clustering analysis and functional classif…         3        4 Gene… #  4 hmu   Results and Discussion; Clustering analysis and functional classif…         3        4 Gene… #  5 yfu   Results and Discussion; Clustering analysis and functional classif…         3        4 Gene… #  6 ybt   Results and Discussion; Clustering analysis and functional classif…         3        4 Gene… #  7 cys   Results and Discussion; Clustering analysis and functional classif…         4        2 Gene… #  8 cys   Results and Discussion; Clustering analysis and functional classif…         4        3 Clus… #  9 fur   Methods; Gel mobility shift analysis of Fur binding                         1        1 The …"},{"path":"https://docs.ropensci.org/tidypmc/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chris Stubben. Author, maintainer.","code":""},{"path":"https://docs.ropensci.org/tidypmc/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Stubben C (2024). tidypmc: Parse Full Text XML Documents PubMed Central. R package version 1.8, https://github.com/ropensci/tidypmc, https://docs.ropensci.org/tidypmc.","code":"@Manual{,   title = {tidypmc: Parse Full Text XML Documents from PubMed Central},   author = {Chris Stubben},   year = {2024},   note = {R package version 1.8, https://github.com/ropensci/tidypmc},   url = {https://docs.ropensci.org/tidypmc}, }"},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"tidypmc","dir":"","previous_headings":"","what":"Parse Full Text XML Documents from PubMed Central","title":"Parse Full Text XML Documents from PubMed Central","text":"Open Access subset Pubmed Central (PMC) includes 2.5 million articles biomedical life sciences journals. full text XML files freely available text mining REST service FTP site can challenging parse. example, section tags nested arbitrary depths, formulas tables may return incomprehensible text blobs superscripted references pasted end words. functions tidypmc package intended return readable text maintain document structure, gene names terms can associated specific sections, paragraphs, sentences table rows.","code":""},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Parse Full Text XML Documents from PubMed Central","text":"Use remotes install package.","code":"remotes::install_github(\"ropensci/tidypmc\")"},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"load-xml","dir":"","previous_headings":"","what":"Load XML","title":"Parse Full Text XML Documents from PubMed Central","text":"Download single XML document like PMC2231364 REST service using pmc_xml function. europepmc package includes additional functions search PMC download full text. sure include OPEN_ACCESS field search since articles full text XML available. Save 19 results list XML documents using epmc_ftxt pmc_xml function. See PMC FTP vignette details parsing large XML files FTP site 10,000 articles .","code":"library(tidypmc) library(tidyverse) doc <- pmc_xml(\"PMC2231364\") doc #  {xml_document} #  <article article-type=\"research-article\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"> #  [1] <front>\\n  <journal-meta>\\n    <journal-id journal-id-type=\"nlm-ta\">BMC Microbiol<\/journal-id ... #  [2] <body>\\n  <sec>\\n    <title>Background<\/title>\\n    <p><italic>Yersinia pestis <\/italic>is th ... #  [3] <back>\\n  <ack>\\n    <sec>\\n      <title>Acknowledgements<\/title>\\n      <p>We thank Dr. Chen ... library(europepmc) yp <- epmc_search(\"title:(Yersinia pestis virulence) OPEN_ACCESS:Y\") #  19 records found, returning 19 select(yp, pmcid, pubYear, title) %>%   print(n=5) #  # A tibble: 19 x 3 #    pmcid      pubYear title                                                                           #    <chr>      <chr>   <chr>                                                                           #  1 PMC5505154 2017    Crystal structure of Yersinia pestis virulence factor YfeA reveals two polyspe… #  2 PMC3521224 2012    Omics strategies for revealing Yersinia pestis virulence.                       #  3 PMC2704395 2009    Involvement of the post-transcriptional regulator Hfq in Yersinia pestis virul… #  4 PMC2736372 2009    The NlpD lipoprotein is a novel Yersinia pestis virulence factor essential for… #  5 PMC3109262 2011    A comprehensive study on the role of the Yersinia pestis virulence markers in … #  # … with 14 more rows docs <- map(yp$pmcid, epmc_ftxt)"},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"parse-xml","dir":"","previous_headings":"","what":"Parse XML","title":"Parse Full Text XML Documents from PubMed Central","text":"package includes five functions parse xml_document. pmc_text function uses tokenizers package split section paragraphs sentences. function also removes tables, figures formulas nested within paragraph tags, replaces superscripted references brackets, adds carets underscores superscripts subscripts includes full path subsection title. Load tidytext package text processing. pmc_table function formats tables collapsing multiline headers, expanding rowspan colspan attributes adding subheadings new column. Use collapse_rows join column names cell values semi-colon delimited string (search using functions next section). three pmc functions described package vignette.","code":"txt <- pmc_text(doc) #  Note: removing disp-formula nested in sec/p tag txt #  # A tibble: 194 x 4 #     section    paragraph sentence text                                                                          #     <chr>          <int>    <int> <chr>                                                                         #   1 Title              1        1 Comparative transcriptomics in Yersinia pestis: a global view of environment… #   2 Abstract           1        1 Environmental modulation of gene expression in Yersinia pestis is critical f… #   3 Abstract           1        2 Using cDNA microarray technology, we have analyzed the global gene expressio… #   4 Abstract           2        1 To provide us with a comprehensive view of environmental modulation of globa… #   5 Abstract           2        2 Almost all known virulence genes of Y. pestis were differentially regulated … #   6 Abstract           2        3 Clustering enabled us to functionally classify co-expressed genes, including… #   7 Abstract           2        4 Collections of operons were predicted from the microarray data, and some of … #   8 Abstract           2        5 Several regulatory DNA motifs, probably recognized by the regulatory protein… #   9 Abstract           3        1 The comparative transcriptomics analysis we present here not only benefits o… #  10 Background         1        1 Yersinia pestis is the etiological agent of plague, alternatively growing in… #  # … with 184 more rows count(txt, section, sort=TRUE) #  # A tibble: 21 x 2 #     section                                                                                                   n #     <chr>                                                                                                 <int> #   1 Results and Discussion; Clustering analysis and functional classification of co-expressed gene clust…    22 #   2 Background                                                                                               20 #   3 Results and Discussion; Virulence genes in response to multiple environmental stresses                   20 #   4 Methods; Collection of microarray expression data                                                        17 #   5 Results and Discussion; Computational discovery of regulatory DNA motifs                                 16 #   6 Methods; Gel mobility shift analysis of Fur binding                                                      13 #   7 Results and Discussion; Verification of predicted operons by RT-PCR                                      10 #   8 Abstract                                                                                                  8 #   9 Methods; Discovery of regulatory DNA motifs                                                               8 #  10 Methods; Clustering analysis                                                                              7 #  # … with 11 more rows library(tidytext) x1 <- unnest_tokens(txt, word, text) %>%   anti_join(stop_words) %>%   filter(!word %in% 1:100) #  Joining, by = \"word\" filter(x1, str_detect(section, \"^Results\")) #  # A tibble: 1,269 x 4 #     section                paragraph sentence word          #     <chr>                      <int>    <int> <chr>         #   1 Results and Discussion         1        1 comprehensive #   2 Results and Discussion         1        1 analysis      #   3 Results and Discussion         1        1 sets          #   4 Results and Discussion         1        1 microarray    #   5 Results and Discussion         1        1 expression    #   6 Results and Discussion         1        1 data          #   7 Results and Discussion         1        1 dissect       #   8 Results and Discussion         1        1 bacterial     #   9 Results and Discussion         1        1 adaptation    #  10 Results and Discussion         1        1 environments  #  # … with 1,259 more rows filter(x1, str_detect(section, \"^Results\")) %>%   count(word, sort = TRUE) #  # A tibble: 595 x 2 #     word           n #     <chr>      <int> #   1 genes         45 #   2 cluster       24 #   3 expression    21 #   4 pestis        21 #   5 data          19 #   6 dna           15 #   7 gene          15 #   8 figure        13 #   9 fur           12 #  10 operons       12 #  # … with 585 more rows tbls <- pmc_table(doc) #  Parsing 4 tables #  Adding footnotes to Table 1 map_int(tbls, nrow) #  Table 1 Table 2 Table 3 Table 4  #       39      23       4      34 tbls[[1]] #  # A tibble: 39 x 5 #     subheading              `Potential operon (r va… `Gene ID`   `Putative or predicted functi… `Reference (s)` #     <chr>                   <chr>                    <chr>       <chr>                          <chr>           #   1 Iron uptake or heme sy… yfeABCD operon* (r > 0.… YPO2439-24… Transport/binding chelated ir… yfeABCD [54]    #   2 Iron uptake or heme sy… hmuRSTUV operon (r > 0.… YPO0279-02… Transport/binding hemin        hmuRSTUV [55]   #   3 Iron uptake or heme sy… ysuJIHG* (r > 0.95)      YPO1529-15… Iron uptake                    -               #   4 Iron uptake or heme sy… sufABCDS* (r > 0.90)     YPO2400-24… Iron-regulated Fe-S cluster a… -               #   5 Iron uptake or heme sy… YPO1854-1856* (r > 0.97) YPO1854-18… Iron uptake or heme synthesis? -               #   6 Sulfur metabolism       tauABCD operon (r > 0.9… YPO0182-01… Transport/binding taurine      tauABCD [56]    #   7 Sulfur metabolism       ssuEADCB operon (r > 0.… YPO3623-36… Sulphur metabolism             ssu operon [57] #   8 Sulfur metabolism       cys operon (r > 0.92)    YPO3010-30… Cysteine synthesis             -               #   9 Sulfur metabolism       YPO1317-1319 (r > 0.97)  YPO1317-13… Sulfur metabolism?             -               #  10 Sulfur metabolism       YPO4109-4111 (r > 0.90)  YPO4109-41… Sulfur metabolism?             -               #  # … with 29 more rows collapse_rows(tbls, na.string=\"-\") #  # A tibble: 100 x 3 #     table     row text                                                                                          #     <chr>   <int> <chr>                                                                                         #   1 Table 1     1 subheading=Iron uptake or heme synthesis; Potential operon (r value)=yfeABCD operon* (r > 0.… #   2 Table 1     2 subheading=Iron uptake or heme synthesis; Potential operon (r value)=hmuRSTUV operon (r > 0.… #   3 Table 1     3 subheading=Iron uptake or heme synthesis; Potential operon (r value)=ysuJIHG* (r > 0.95); Ge… #   4 Table 1     4 subheading=Iron uptake or heme synthesis; Potential operon (r value)=sufABCDS* (r > 0.90); G… #   5 Table 1     5 subheading=Iron uptake or heme synthesis; Potential operon (r value)=YPO1854-1856* (r > 0.97… #   6 Table 1     6 subheading=Sulfur metabolism; Potential operon (r value)=tauABCD operon (r > 0.90); Gene ID=… #   7 Table 1     7 subheading=Sulfur metabolism; Potential operon (r value)=ssuEADCB operon (r > 0.97); Gene ID… #   8 Table 1     8 subheading=Sulfur metabolism; Potential operon (r value)=cys operon (r > 0.92); Gene ID=YPO3… #   9 Table 1     9 subheading=Sulfur metabolism; Potential operon (r value)=YPO1317-1319 (r > 0.97); Gene ID=YP… #  10 Table 1    10 subheading=Sulfur metabolism; Potential operon (r value)=YPO4109-4111 (r > 0.90); Gene ID=YP… #  # … with 90 more rows"},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"searching-text","dir":"","previous_headings":"","what":"Searching text","title":"Parse Full Text XML Documents from PubMed Central","text":"functions search within pmc_text collapsed pmc_table output. separate_text uses stringr package extract regular expression vector words. wrappers search pre-defined patterns add extra step expand matched ranges. separate_refs matches references within brackets using \\\\[[0-9, -]+\\\\] expands ranges like [7-9]. separate_genes find microbial genes like tauD (capitalized 4th letter) expand operons like tauABCD four genes. separate_tags find expand locus tag ranges . See vignette details including code parse XML documents using xml2 package. PMC FTP vignette details parsing XML files Europe PMC FTP site.","code":"separate_text(txt, \"[ATCGN]{5,}\") #  # A tibble: 9 x 5 #    match        section                         paragraph sentence text                                         #    <chr>        <chr>                               <int>    <int> <chr>                                        #  1 ACGCAATCGTT… Results and Discussion; Comput…         2        3 A 16 basepair (bp) box (5'-ACGCAATCGTTTTCNT… #  2 AAACGTTTNCGT Results and Discussion; Comput…         2        4 It is very similar to the E. coli PurR box … #  3 TGATAATGATT… Results and Discussion; Comput…         2        5 A 21 bp box (5'-TGATAATGATTATCATTATCA-3') w… #  4 GATAATGATAA… Results and Discussion; Comput…         2        6 It is a 10-1-10 inverted repeat that resemb… #  5 TGANNNNNNTC… Results and Discussion; Comput…         2        7 A 15 bp box (5'-TGANNNNNNTCAA-3') was found… #  6 TTGATN       Results and Discussion; Comput…         2        8 It is a part of the E. coli Fnr box (5'-AAW… #  7 NATCAA       Results and Discussion; Comput…         2        8 It is a part of the E. coli Fnr box (5'-AAW… #  8 GTTAATTAA    Results and Discussion; Comput…         3        4 The ArcA regulator can recognize a relative… #  9 GTTAATTAATGT Results and Discussion; Comput…         3        5 An ArcA-box-like sequence (5'-GTTAATTAATGT-… separate_refs(txt) #  # A tibble: 93 x 6 #        id match section   paragraph sentence text                                                               #     <dbl> <chr> <chr>         <int>    <int> <chr>                                                              #   1     1 [1]   Backgrou…         1        1 Yersinia pestis is the etiological agent of plague, alternatively… #   2     2 [2]   Backgrou…         1        3 To produce a transmissible infection, Y. pestis colonizes the fle… #   3     3 [3]   Backgrou…         1        9 However, a few bacilli are taken up by tissue macrophages, provid… #   4     4 [4,5] Backgrou…         1       10 Residence in this niche also facilitates the bacteria's resistanc… #   5     5 [4,5] Backgrou…         1       10 Residence in this niche also facilitates the bacteria's resistanc… #   6     6 [6]   Backgrou…         2        1 A DNA microarray is able to determine simultaneous changes in all… #   7     7 [7-9] Backgrou…         2        2 We and others have measured the gene expression profiles of Y. pe… #   8     8 [7-9] Backgrou…         2        2 We and others have measured the gene expression profiles of Y. pe… #   9     9 [7-9] Backgrou…         2        2 We and others have measured the gene expression profiles of Y. pe… #  10    10 [10]  Backgrou…         2        2 We and others have measured the gene expression profiles of Y. pe… #  # … with 83 more rows collapse_rows(tbls, na=\"-\") %>%   separate_tags(\"YPO\") %>%   filter(id == \"YPO1855\") #  # A tibble: 3 x 5 #    id      match        table    row text                                                                       #    <chr>   <chr>        <chr>  <int> <chr>                                                                      #  1 YPO1855 YPO1854-1856 Table…     5 subheading=Iron uptake or heme synthesis; Potential operon (r value)=YPO1… #  2 YPO1855 YPO1854-1856 Table…    21 subheading=Category C: Hypothetical; Gene ID=YPO1854-1856; Description=Pu… #  3 YPO1855 YPO1854-YPO… Table…     2 Cluster=Cluster II; Genes or operons for motif discovery=hmuRSTUV, YPO068…"},{"path":"https://docs.ropensci.org/tidypmc/index.html","id":"community-guidelines","dir":"","previous_headings":"Searching text","what":"Community Guidelines","title":"Parse Full Text XML Documents from PubMed Central","text":"project released Contributor Code Conduct. participating project agree abide terms. Feedback, bug reports, feature requests welcome .","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":null,"dir":"Reference","previous_headings":"","what":"Collapse a list of PubMed Central tables — collapse_rows","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"Collapse rows semi-colon delimited list column names cell values","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"","code":"collapse_rows(pmc, na.string)"},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"pmc list tables, usually pmc_table na.string additional cell values skip, default NA \"\"","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"tibble table row number collapsed text","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/collapse_rows.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Collapse a list of PubMed Central tables — collapse_rows","text":"","code":"x <- data.frame(   genes = c(\"aroB\", \"glnP\", \"ndhA\", \"pyrF\"),   fold_change = c(2.5, 1.7, -3.1, -2.6) ) collapse_rows(list(`Table 1` = x)) #> # A tibble: 4 × 3 #>   table     row text                         #>   <chr>   <int> <chr>                        #> 1 Table 1     1 genes=aroB; fold_change=2.5  #> 2 Table 1     2 genes=glnP; fold_change=1.7  #> 3 Table 1     3 genes=ndhA; fold_change=-3.1 #> 4 Table 1     4 genes=pyrF; fold_change=-2.6"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":null,"dir":"Reference","previous_headings":"","what":"Split captions into sentences — pmc_caption","title":"Split captions into sentences — pmc_caption","text":"Split figure, table supplementary material captions sentences","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split captions into sentences — pmc_caption","text":"","code":"pmc_caption(doc)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split captions into sentences — pmc_caption","text":"doc xml_document PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split captions into sentences — pmc_caption","text":"tibble tag, label, sentence number text","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Split captions into sentences — pmc_caption","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_caption.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split captions into sentences — pmc_caption","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") # OR doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",   package = \"tidypmc\" )) x <- pmc_caption(doc) #> Found 5 figures #> Found 4 tables #> Found 3 supplements x #> # A tibble: 30 × 4 #>    tag    label    sentence text                                                 #>    <chr>  <chr>       <int> <chr>                                                #>  1 figure Figure 1        1 \"Environmental modulation of expression of virulenc… #>  2 figure Figure 1        2 \"Shown in the squares are the putative stages of tr… #>  3 figure Figure 1        3 \"The TreeView charts show the transcriptional chang… #>  4 figure Figure 1        4 \"Color intensities denote log2 ratios as follows: g… #>  5 figure Figure 2        1 \"RT-PCR analysis of potential operons.\"              #>  6 figure Figure 2        2 \"Shown is the electrophoresis image of an RT-PCR pr… #>  7 figure Figure 2        3 \"Total RNA was used to synthesize cDNA in the prese… #>  8 figure Figure 2        4 \"Genomic DNA was used as a template, and is indicat… #>  9 figure Figure 2        5 \"\\\"Marker\\\" represents a DNA size marker (900, 700,… #> 10 figure Figure 3        1 \"Schematic representation of the clustered microarr… #> # ℹ 20 more rows dplyr::filter(x, sentence == 1) #> # A tibble: 12 × 4 #>    tag        label                       sentence text                          #>    <chr>      <chr>                          <int> <chr>                         #>  1 figure     Figure 1                           1 Environmental modulation of … #>  2 figure     Figure 2                           1 RT-PCR analysis of potential… #>  3 figure     Figure 3                           1 Schematic representation of … #>  4 figure     Figure 4                           1 Graphical representation of … #>  5 figure     Figure 5                           1 EMSA analysis of the binding… #>  6 table      Table 1                            1 Stress-responsive operons in… #>  7 table      Table 2                            1 Classification of the gene m… #>  8 table      Table 3                            1 Motif discovery for the clus… #>  9 table      Table 4                            1 Designs for expression profi… #> 10 supplement Additional file 1 Figure S1        1 Growth curves of Y. pestis s… #> 11 supplement Additional file 2 Table S1         1 All the transcriptional chan… #> 12 supplement Additional file 3 Table S2         1 List of oligonucleotide prim…"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get article metadata — pmc_metadata","title":"Get article metadata — pmc_metadata","text":"Get list journal article metadata /front tag","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get article metadata — pmc_metadata","text":"","code":"pmc_metadata(doc)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get article metadata — pmc_metadata","text":"doc xml_document PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get article metadata — pmc_metadata","text":"list","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get article metadata — pmc_metadata","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get article metadata — pmc_metadata","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") # OR doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",   package = \"tidypmc\" )) pmc_metadata(doc) #> $PMCID #> [1] \"PMC2231364\" #>  #> $Title #> [1] \"Comparative transcriptomics in Yersinia pestis: a global view of environmental modulation of gene expression\" #>  #> $Authors #> [1] \"Yanping Han, Jingfu Qiu, Zhaobiao Guo, He Gao, Yajun Song, Dongsheng Zhou, Ruifu Yang\" #>  #> $Year #> [1] 2007 #>  #> $Journal #> [1] \"BMC Microbiology\" #>  #> $Volume #> [1] \"7\" #>  #> $Pages #> [1] \"96\" #>  #> $`Published online` #> [1] \"2007-10-29\" #>  #> $`Date received` #> [1] \"2007-6-2\" #>  #> $DOI #> [1] \"10.1186/1471-2180-7-96\" #>  #> $Publisher #> [1] \"BioMed Central\" #>"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":null,"dir":"Reference","previous_headings":"","what":"Format references cited — pmc_reference","title":"Format references cited — pmc_reference","text":"Format references cited","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format references cited — pmc_reference","text":"","code":"pmc_reference(doc)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format references cited — pmc_reference","text":"doc xml_document PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format references cited — pmc_reference","text":"tibble id, pmid, authors, year, title, journal, volume, pages, doi.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Format references cited — pmc_reference","text":"Mixed citations without child tags added author column.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Format references cited — pmc_reference","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_reference.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format references cited — pmc_reference","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",   package = \"tidypmc\" )) x <- pmc_reference(doc) #> Found 76 citation tags x #> # A tibble: 76 × 9 #>       id pmid     authors                  year title journal volume pages doi   #>    <int> <chr>    <chr>                   <int> <chr> <chr>   <chr>  <chr> <chr> #>  1     1 8993858  Perry RD, Fetherston JD  1997 Yers… Clin M… 10     35-66 NA    #>  2     2 16053250 Hinnebusch BJ            2005 The … Curr I… 7      197-… NA    #>  3     3 6469352  Straley SC, Harmon PA    1984 Yers… Infect… 45     655-… NA    #>  4     4 15557646 Huang XZ, Lindler LE     2004 The … Infect… 72     7212… 10.1… #>  5     5 15721832 Pujol C, Bliska JB       2005 Turn… Clin I… 114    216-… 10.1… #>  6     6 12732299 Rhodius VA, LaRossa RA   2003 Uses… Curr O… 6      114-… 10.1… #>  7     7 15342600 Motin VL, Georgescu AM…  2004 Temp… J Bact… 186    6298… 10.1… #>  8     8 15557737 Han Y, Zhou D, Pang X,…  2004 Micr… Microb… 48     791-… NA    #>  9     9 15777740 Han Y, Zhou D, Pang X,…  2005 DNA … Microb… 7      335-… 10.1… #> 10    10 15808945 Han Y, Zhou D, Pang X,…  2005 Comp… Res Mi… 156    403-… 10.1… #> # ℹ 66 more rows"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert table nodes to tibbles — pmc_table","title":"Convert table nodes to tibbles — pmc_table","text":"Convert PubMed Central table nodes list tibbles","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert table nodes to tibbles — pmc_table","text":"","code":"pmc_table(doc)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert table nodes to tibbles — pmc_table","text":"doc xml_document PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert table nodes to tibbles — pmc_table","text":"list tibbles","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Convert table nodes to tibbles — pmc_table","text":"Saves caption footnotes attributes collapses multiline headers, expands rowspan colspan attributes adds subheadings column one.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert table nodes to tibbles — pmc_table","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert table nodes to tibbles — pmc_table","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",   package = \"tidypmc\" )) x <- pmc_table(doc) #> Parsing 4 tables #> Adding footnotes to Table 1 sapply(x, dim) #>      Table 1 Table 2 Table 3 Table 4 #> [1,]      39      23       4      34 #> [2,]       5       5       4       4 x #> $`Table 1` #> # A tibble: 39 × 5 #>    subheading            Potential operon (r …¹ `Gene ID` Putative or predicte…² #>    <chr>                 <chr>                  <chr>     <chr>                  #>  1 Iron uptake or heme … yfeABCD operon* (r > … YPO2439-… Transport/binding che… #>  2 Iron uptake or heme … hmuRSTUV operon (r > … YPO0279-… Transport/binding hem… #>  3 Iron uptake or heme … ysuJIHG* (r > 0.95)    YPO1529-… Iron uptake            #>  4 Iron uptake or heme … sufABCDS* (r > 0.90)   YPO2400-… Iron-regulated Fe-S c… #>  5 Iron uptake or heme … YPO1854-1856* (r > 0.… YPO1854-… Iron uptake or heme s… #>  6 Sulfur metabolism     tauABCD operon (r > 0… YPO0182-… Transport/binding tau… #>  7 Sulfur metabolism     ssuEADCB operon (r > … YPO3623-… Sulphur metabolism     #>  8 Sulfur metabolism     cys operon (r > 0.92)  YPO3010-… Cysteine synthesis     #>  9 Sulfur metabolism     YPO1317-1319 (r > 0.9… YPO1317-… Sulfur metabolism?     #> 10 Sulfur metabolism     YPO4109-4111 (r > 0.9… YPO4109-… Sulfur metabolism?     #> # ℹ 29 more rows #> # ℹ abbreviated names: ¹​`Potential operon (r value)`, #> #   ²​`Putative or predicted function` #> # ℹ 1 more variable: `Reference (s)` <chr> #>  #> $`Table 2` #> # A tibble: 23 × 5 #>    subheading           `Gene locus`   `Gene ID`           Description reference #>    <chr>                <chr>          <chr>               <chr>       <chr>     #>  1 Category A: Proven   yfeABCD        YPO2439-2442        Inorganic … [36]      #>  2 Category A: Proven   yfuABC         YPO2958-2960        Inorganic … [37]      #>  3 Category A: Proven   ybt locus      YPO1906-1916        Siderophor… [74]      #>  4 Category A: Proven   hmuRSTUV       YPO0279-0283        Heme trans… [38]      #>  5 Category A: Proven   TonB-exbB-exbD YPO2193, YPO0682-0… TonB-ExbB-… [75]      #>  6 Category A: Proven   yiuABCR        YPO1310-1313        Putative s… [76]      #>  7 Category A: Proven   ysuFJIHG       YPO1528-1532        Siderophor… [76]      #>  8 Category B: Putative fitABCD        YPO4022-4025        Putative i… NA        #>  9 Category B: Putative Others         YPO0778-0776        putative s… NA        #> 10 Category B: Putative NA             YPO1011-1012        putative T… NA        #> # ℹ 13 more rows #>  #> $`Table 3` #> # A tibble: 4 × 4 #>   Cluster     Genes or operons for …¹ Strict consensus of …² `Hits of consensus` #>   <chr>       <chr>                   <chr>                  <chr>               #> 1 Cluster I   rps-rpm-rpl operon, rp… PurR-like box: 5' ACG… rps-rpm-rpl operon… #> 2 Cluster II  hmuRSTUV, YPO0682, YPO… Fur-like box: 5' TGAT… hmuRSTUV, YPO0682,… #> 3 Cluster III cysB, ssuEADCB, cysK, … Fnr-like box: 5' TGAN… ssuEADCB, cysK, YP… #> 4 Cluster IV  sdhCDAB-sucABCD, nuoA-… Fnr/Crp-like box: 5' … sdhCDAB-sucABCD, p… #> # ℹ abbreviated names: ¹​`Genes or operons for motif discovery`, #> #   ²​`Strict consensus of known TF-like box (See also Figure 4)` #>  #> $`Table 4` #> # A tibble: 34 × 4 #>    subheading        `Environmental perturbation`   Description  `Reference (s)` #>    <chr>             <chr>                          <chr>        <chr>           #>  1 Stimulon analysis Temperature shift              NA           [8, 9]          #>  2 Stimulon analysis Vegetative growth temperatures Shift from … NA              #>  3 Stimulon analysis Heat shock                     Shift from … NA              #>  4 Stimulon analysis Cold shock                     Shift from … NA              #>  5 Stimulon analysis Osmotic stress                 NA           [10]            #>  6 Stimulon analysis High osmolarity                Treatment w… NA              #>  7 Stimulon analysis High salinity                  Treatment w… NA              #>  8 Stimulon analysis Oxidative stress               Treatment w… NA              #>  9 Stimulon analysis Mild acid stress               Shift from … NA              #> 10 Stimulon analysis Low Mg2+                       Growth unde… [15]            #> # ℹ 24 more rows #>  attributes(x[[1]]) #> $names #> [1] \"subheading\"                     \"Potential operon (r value)\"     #> [3] \"Gene ID\"                        \"Putative or predicted function\" #> [5] \"Reference (s)\"                  #>  #> $row.names #>  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #> [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 #>  #> $class #> [1] \"tbl_df\"     \"tbl\"        \"data.frame\" #>  #> $caption #> [1] \"Stress-responsive operons in Y. pestis predicted from microarray expression data\" #>  #> $footnotes #> [1] \"'r' represents the correlation coefficient of adjacent genes; '*' represent the defined operon has the similar expression pattern in two other published microarray datasets [7, 21]; '?' inferred functions of uncharacterized genes; '-' means the corresponding operons have not been experimentally validated in other bacteria.\" #>"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Split section paragraphs into sentences — pmc_text","title":"Split section paragraphs into sentences — pmc_text","text":"Split section paragraph tags table subsection titles sentences using tokenize_sentences","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split section paragraphs into sentences — pmc_text","text":"","code":"pmc_text(doc)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split section paragraphs into sentences — pmc_text","text":"doc xml_document PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split section paragraphs into sentences — pmc_text","text":"tibble section, paragraph sentence number text","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Split section paragraphs into sentences — pmc_text","text":"Subsections may nested arbitrary depths function return entire path subsection title delimited string like \"Results; Predicted functions; Pathogenicity\".  Tables, figures formulas nested section paragraphs removed, superscripted references replaced brackets, superscripts subscripts separared ^ _.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Split section paragraphs into sentences — pmc_text","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_text.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split section paragraphs into sentences — pmc_text","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",   package = \"tidypmc\" )) txt <- pmc_text(doc) txt #> # A tibble: 194 × 4 #>    section    paragraph sentence text                                            #>    <chr>          <int>    <int> <chr>                                           #>  1 Title              1        1 Comparative transcriptomics in Yersinia pestis… #>  2 Abstract           1        1 Environmental modulation of gene expression in… #>  3 Abstract           1        2 Using cDNA microarray technology, we have anal… #>  4 Abstract           2        1 To provide us with a comprehensive view of env… #>  5 Abstract           2        2 Almost all known virulence genes of Y. pestis … #>  6 Abstract           2        3 Clustering enabled us to functionally classify… #>  7 Abstract           2        4 Collections of operons were predicted from the… #>  8 Abstract           2        5 Several regulatory DNA motifs, probably recogn… #>  9 Abstract           3        1 The comparative transcriptomics analysis we pr… #> 10 Background         1        1 Yersinia pestis is the etiological agent of pl… #> # ℹ 184 more rows dplyr::count(txt, section, sort = TRUE) #> # A tibble: 21 × 2 #>    section                                                                     n #>    <chr>                                                                   <int> #>  1 Results and Discussion; Clustering analysis and functional classificat…    22 #>  2 Background                                                                 20 #>  3 Results and Discussion; Virulence genes in response to multiple enviro…    20 #>  4 Methods; Collection of microarray expression data                          17 #>  5 Results and Discussion; Computational discovery of regulatory DNA moti…    16 #>  6 Methods; Gel mobility shift analysis of Fur binding                        13 #>  7 Results and Discussion; Verification of predicted operons by RT-PCR        10 #>  8 Abstract                                                                    8 #>  9 Methods; Discovery of regulatory DNA motifs                                 8 #> 10 Methods; Clustering analysis                                                7 #> # ℹ 11 more rows"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":null,"dir":"Reference","previous_headings":"","what":"Download XML from PubMed Central — pmc_xml","title":"Download XML from PubMed Central — pmc_xml","text":"Download XML PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download XML from PubMed Central — pmc_xml","text":"","code":"pmc_xml(id)"},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Download XML from PubMed Central — pmc_xml","text":"https://europepmc.org/RestfulWebService","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download XML from PubMed Central — pmc_xml","text":"id PMC id starting 'PMC'","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download XML from PubMed Central — pmc_xml","text":"xml_document","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/pmc_xml.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download XML from PubMed Central — pmc_xml","text":"","code":"if (FALSE) { doc <- pmc_xml(\"PMC2231364\") }"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate genes and operons into multiple rows — separate_genes","title":"Separate genes and operons into multiple rows — separate_genes","text":"Separate genes operons mentioned full text multiple rows","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate genes and operons into multiple rows — separate_genes","text":"","code":"separate_genes(txt, pattern = \"\\\\b[A-Za-z][a-z]{2}[A-Z0-9]+\\\\b\",   genes, operon = 6, column = \"text\")"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate genes and operons into multiple rows — separate_genes","text":"txt table pattern regular expression match genes, default match microbial genes like AbcD, default [-Za-z][-z]2[-Z0-9]+ genes optional vector genes, set pattern NA match list. operon operon length, default 6. Split genes 6 letters separate genes, example AbcDEF split abcD, abcE abcF. column column name search, default \"text\"","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate genes and operons into multiple rows — separate_genes","text":"tibble gene name, matching text rows.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Separate genes and operons into multiple rows — separate_genes","text":"Check genes italics using xml_text(xml_find_all(doc, \"//sec//p//italic\")) update pattern add additional genes optional vector needed","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate genes and operons into multiple rows — separate_genes","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_genes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate genes and operons into multiple rows — separate_genes","text":"","code":"x <- data.frame(row = 1, text = \"Genes like YacK, hmu and sufABC\") separate_genes(x) #>       gene  match row                            text #> 1     yacK   YacK   1 Genes like YacK, hmu and sufABC #> 1.1   sufA sufABC   1 Genes like YacK, hmu and sufABC #> 1.1.1 sufB sufABC   1 Genes like YacK, hmu and sufABC #> 1.1.2 sufC sufABC   1 Genes like YacK, hmu and sufABC separate_genes(x, genes = \"hmu\") #>       gene  match row                            text #> 1     yacK   YacK   1 Genes like YacK, hmu and sufABC #> 1.1    hmu    hmu   1 Genes like YacK, hmu and sufABC #> 1.2   sufA sufABC   1 Genes like YacK, hmu and sufABC #> 1.2.1 sufB sufABC   1 Genes like YacK, hmu and sufABC #> 1.2.2 sufC sufABC   1 Genes like YacK, hmu and sufABC"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate references cited into multiple rows — separate_refs","title":"Separate references cited into multiple rows — separate_refs","text":"Separates references cited brackets parentheses multiple rows splits comma-delimited numeric strings expands ranges like 7-9 new rows","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate references cited into multiple rows — separate_refs","text":"","code":"separate_refs(txt, column = \"text\")"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate references cited into multiple rows — separate_refs","text":"txt table column column name, default \"text\"","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate references cited into multiple rows — separate_refs","text":"tibble","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate references cited into multiple rows — separate_refs","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_refs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate references cited into multiple rows — separate_refs","text":"","code":"x <- data.frame(row = 1, text = \"some important studies [7-9,15]\") separate_refs(x) #>     id    match row                            text #> 1    7 [7-9,15]   1 some important studies [7-9,15] #> 1.1  8 [7-9,15]   1 some important studies [7-9,15] #> 1.2  9 [7-9,15]   1 some important studies [7-9,15] #> 1.3 15 [7-9,15]   1 some important studies [7-9,15]"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate locus tag into multiple rows — separate_tags","title":"Separate locus tag into multiple rows — separate_tags","text":"Separates locus tags mentioned full text expands ranges like YPO1970-74 new rows","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate locus tag into multiple rows — separate_tags","text":"","code":"separate_tags(txt, pattern, column = \"text\")"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate locus tag into multiple rows — separate_tags","text":"txt table pattern regular expression match locus tags like YPO[0-9-]+ locus tag prefix like YPO. column column name search, default \"text\"","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate locus tag into multiple rows — separate_tags","text":"tibble locus tag, matching text rows.","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate locus tag into multiple rows — separate_tags","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_tags.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate locus tag into multiple rows — separate_tags","text":"","code":"x <- data.frame(row = 1, text = \"some genes like YPO1002 and YPO1970-74\") separate_tags(x, \"YPO\") #>            id      match row                                   text #> 1     YPO1002    YPO1002   1 some genes like YPO1002 and YPO1970-74 #> 1.1   YPO1970 YPO1970-74   1 some genes like YPO1002 and YPO1970-74 #> 1.1.1 YPO1971 YPO1970-74   1 some genes like YPO1002 and YPO1970-74 #> 1.1.2 YPO1972 YPO1970-74   1 some genes like YPO1002 and YPO1970-74 #> 1.1.3 YPO1973 YPO1970-74   1 some genes like YPO1002 and YPO1970-74 #> 1.1.4 YPO1974 YPO1970-74   1 some genes like YPO1002 and YPO1970-74"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Separate all matching text into multiple rows — separate_text","title":"Separate all matching text into multiple rows — separate_text","text":"Separate matching text multiple rows","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Separate all matching text into multiple rows — separate_text","text":"","code":"separate_text(txt, pattern, column = \"text\")"},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Separate all matching text into multiple rows — separate_text","text":"txt tibble, usually results pmc_text pattern either regular expression vector words find text column column name, default \"text\"","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Separate all matching text into multiple rows — separate_text","text":"tibble","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Separate all matching text into multiple rows — separate_text","text":"passed grepl str_extract_all","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Separate all matching text into multiple rows — separate_text","text":"Chris Stubben","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/separate_text.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Separate all matching text into multiple rows — separate_text","text":"","code":"# doc <- pmc_xml(\"PMC2231364\") doc <- xml2::read_xml(system.file(\"extdata/PMC2231364.xml\",         package = \"tidypmc\")) txt <- pmc_text(doc) separate_text(txt, \"[ATCGN]{5,}\") #> # A tibble: 9 × 5 #>   match                 section                         paragraph sentence text  #>   <chr>                 <chr>                               <int>    <int> <chr> #> 1 ACGCAATCGTTTTCNT      Results and Discussion; Comput…         2        3 A 16… #> 2 AAACGTTTNCGT          Results and Discussion; Comput…         2        4 It i… #> 3 TGATAATGATTATCATTATCA Results and Discussion; Comput…         2        5 A 21… #> 4 GATAATGATAATCATTATC   Results and Discussion; Comput…         2        6 It i… #> 5 TGANNNNNNTCAA         Results and Discussion; Comput…         2        7 A 15… #> 6 TTGATN                Results and Discussion; Comput…         2        8 It i… #> 7 NATCAA                Results and Discussion; Comput…         2        8 It i… #> 8 GTTAATTAA             Results and Discussion; Comput…         3        4 The … #> 9 GTTAATTAATGT          Results and Discussion; Comput…         3        5 An A… separate_text(txt, \"\\\\([A-Z]{3,6}s?\\\\)\") #> # A tibble: 5 × 5 #>   match  section                                        paragraph sentence text  #>   <chr>  <chr>                                              <int>    <int> <chr> #> 1 (EMSA) Abstract                                               2        5 Seve… #> 2 (PMNs) Background                                             1        8 Most… #> 3 (SOM)  Methods; Clustering analysis                           1        4 For … #> 4 (MEME) Methods; Discovery of regulatory DNA motifs            1        3 Coll… #> 5 (IPTG) Methods; Gel mobility shift analysis of Fur b…         1        3 Expr… # pattern can be a vector of words separate_text(txt, c(\"hmu\", \"ybt\", \"yfe\", \"yfu\")) #> # A tibble: 4 × 5 #>   match section                                         paragraph sentence text  #>   <chr> <chr>                                               <int>    <int> <chr> #> 1 yfe   Results and Discussion; Clustering analysis an…         3        4 Gene… #> 2 hmu   Results and Discussion; Clustering analysis an…         3        4 Gene… #> 3 yfu   Results and Discussion; Clustering analysis an…         3        4 Gene… #> 4 ybt   Results and Discussion; Clustering analysis an…         3        4 Gene… # wrappers for separate_text with extra step to expand matched ranges separate_refs(txt) #> # A tibble: 93 × 6 #>       id match section    paragraph sentence text                                #>    <dbl> <chr> <chr>          <int>    <int> <chr>                               #>  1     1 [1]   Background         1        1 Yersinia pestis is the etiological… #>  2     2 [2]   Background         1        3 To produce a transmissible infecti… #>  3     3 [3]   Background         1        9 However, a few bacilli are taken u… #>  4     4 [4,5] Background         1       10 Residence in this niche also facil… #>  5     5 [4,5] Background         1       10 Residence in this niche also facil… #>  6     6 [6]   Background         2        1 A DNA microarray is able to determ… #>  7     7 [7-9] Background         2        2 We and others have measured the ge… #>  8     8 [7-9] Background         2        2 We and others have measured the ge… #>  9     9 [7-9] Background         2        2 We and others have measured the ge… #> 10    10 [10]  Background         2        2 We and others have measured the ge… #> # ℹ 83 more rows separate_genes(txt) #> # A tibble: 103 × 6 #>    gene  match   section                                paragraph sentence text  #>    <chr> <chr>   <chr>                                      <int>    <int> <chr> #>  1 purR  PurR    Abstract                                       2        5 Seve… #>  2 phoP  PhoP    Background                                     2        3 We a… #>  3 ompR  OmpR    Background                                     2        3 We a… #>  4 oxyR  OxyR    Background                                     2        3 We a… #>  5 csrA  CsrA    Results and Discussion                         1        3 Afte… #>  6 slyA  SlyA    Results and Discussion                         1        3 Afte… #>  7 phoPQ PhoPQ   Results and Discussion                         1        3 Afte… #>  8 hmsH  hmsHFRS Results and Discussion; Virulence gen…         3        3 For … #>  9 hmsF  hmsHFRS Results and Discussion; Virulence gen…         3        3 For … #> 10 hmsR  hmsHFRS Results and Discussion; Virulence gen…         3        3 For … #> # ℹ 93 more rows separate_tags(txt, \"YPO\") #> # A tibble: 35 × 6 #>    id      match        section                         paragraph sentence text  #>    <chr>   <chr>        <chr>                               <int>    <int> <chr> #>  1 YPO1994 YPO1994-1996 Results and Discussion; Verifi…         1        4 For … #>  2 YPO1995 YPO1994-1996 Results and Discussion; Verifi…         1        4 For … #>  3 YPO1996 YPO1994-1996 Results and Discussion; Verifi…         1        4 For … #>  4 YPO1087 YPO1087-1088 Results and Discussion; Verifi…         1        4 For … #>  5 YPO1088 YPO1087-1088 Results and Discussion; Verifi…         1        4 For … #>  6 YPO0881 YPO0881      Results and Discussion; Verifi…         1        5 Micr… #>  7 YPO0882 YPO0882      Results and Discussion; Verifi…         1        5 Micr… #>  8 YPO0883 YPO0883      Results and Discussion; Verifi…         1        5 Micr… #>  9 YPO0884 YPO0884      Results and Discussion; Verifi…         1        5 Micr… #> 10 YPO0881 YPO0881-0882 Results and Discussion; Verifi…         2        4 Howe… #> # ℹ 25 more rows"},{"path":"https://docs.ropensci.org/tidypmc/reference/tidypmc.html","id":null,"dir":"Reference","previous_headings":"","what":"tidypmc package — tidypmc","title":"tidypmc package — tidypmc","text":"Parse full text XML documents PubMed Central","code":""},{"path":"https://docs.ropensci.org/tidypmc/reference/tidypmc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"tidypmc package — tidypmc","text":"See Github page details https://github.com/ropensci/tidypmc","code":""},{"path":[]},{"path":"https://docs.ropensci.org/tidypmc/news/index.html","id":"documentation-fixes-1-8","dir":"Changelog","previous_headings":"","what":"DOCUMENTATION FIXES","title":"tidypmc 1.8 (dev)","text":"Added NEWS.md file (#2)","code":""},{"path":"https://docs.ropensci.org/tidypmc/news/index.html","id":"tidypmc-17-2019-08-01","dir":"Changelog","previous_headings":"","what":"tidypmc 1.7 (2019-08-01)","title":"tidypmc 1.7 (2019-08-01)","text":"CRAN release: 2019-08-01","code":""},{"path":"https://docs.ropensci.org/tidypmc/news/index.html","id":"new-features-1-7","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"tidypmc 1.7 (2019-08-01)","text":"released CRAN","code":""}]
